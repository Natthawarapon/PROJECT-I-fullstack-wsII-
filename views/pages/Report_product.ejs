<% include ../partials/header %>
<div class="container">
&nbsp;
<h1 >Report: Purchase by item</h1>
&nbsp;
<table class="table">
    <thead>
        <tr>
        <th>ITEM NAME</th>
        <th>QUANTITY PURCHASED</th>
        <th>AMOUNT</th>
        </tr>
    </thead>
    <tbody>
    <% products.forEach(function(product) { %>
        <tr>
            <td scope="row"><font color="Crimson"><%= product.title %></font></td>
            <td><font color="Crimson"><%= product.quantity %></font></td>
            <td><font color="Crimson">$<%= product.price %></font></td>
        </tr>
        <% }); %>
        <% sum.forEach(function(sum) { %>
        <tr>
            <td scope="row">Total</td>
            <td id="quantity"><%= sum.squantity %></td>
            <td id="price">$<%= sum.sprice %></td>
        </tr>
        <% }); %>
    </tbody>
</table>
</div>
<script src="path/to/chartjs/dist/Chart.js"></script>

	<canvas id="myChart" width="400" height="400"></canvas>

	<script>
			var ctx = document.getElementById("myChart");
			var myChart = new Chart(ctx, {
				type: 'bar',
				data: {
					labels: ["title", "price"],
					datasets: [{
						label: '# of Votes',
						data: ['<%= product.title %>','<%= product.price %>'],
						backgroundColor: [
							'rgba(255, 99, 132, 0.2)',
							'rgba(54, 162, 235, 0.2)',
							
						],
						borderColor: [
							'rgba(255,99,132,1)',
							'rgba(54, 162, 235, 1)',
							
						],
						borderWidth: 1
					}]
				},
				options: {
					scales: {
						yAxes: [{
							ticks: {
								beginAtZero:true
							}
						}]
					}
				}
			});
			</script>
 <% include ../partials/footer %>
